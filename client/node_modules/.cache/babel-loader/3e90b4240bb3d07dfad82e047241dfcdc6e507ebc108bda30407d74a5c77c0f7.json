{"ast":null,"code":"import{Navigate,Route,Routes}from'react-router-dom';import Login from'./components/Auth/Login';import Register from'./components/Auth/Register';import Dashboard from'./components/Dashboard/Dashboard';import{useAuth}from'./context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ProtectedRoute(_ref){let{children}=_ref;const{token,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}if(!token){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;}function PublicRoute(_ref2){let{children}=_ref2;const{token,loading}=useAuth();if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center align-items-center vh-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}if(token){return/*#__PURE__*/_jsx(Navigate,{to:\"/dashboard\",replace:true});}return children;}export default function App(){return/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Login,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(PublicRoute,{children:/*#__PURE__*/_jsx(Register,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Dashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"*\",element:/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true})})]});}","map":{"version":3,"names":["Navigate","Route","Routes","Login","Register","Dashboard","useAuth","jsx","_jsx","jsxs","_jsxs","ProtectedRoute","_ref","children","token","loading","className","role","to","replace","PublicRoute","_ref2","App","path","element"],"sources":["/home/cmdcmd007/projects/meal-planner/client/src/App.jsx"],"sourcesContent":["import { Navigate, Route, Routes } from 'react-router-dom';\nimport Login from './components/Auth/Login';\nimport Register from './components/Auth/Register';\nimport Dashboard from './components/Dashboard/Dashboard';\nimport { useAuth } from './context/AuthContext';\n\nfunction ProtectedRoute({ children }) {\n  const { token, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center vh-100\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (!token) {\n    return <Navigate to=\"/login\" replace />;\n  }\n\n  return children;\n}\n\nfunction PublicRoute({ children }) {\n  const { token, loading } = useAuth();\n\n  if (loading) {\n    return (\n      <div className=\"d-flex justify-content-center align-items-center vh-100\">\n        <div className=\"spinner-border text-primary\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      </div>\n    );\n  }\n\n  if (token) {\n    return <Navigate to=\"/dashboard\" replace />;\n  }\n\n  return children;\n}\n\nexport default function App() {\n  return (\n    <Routes>\n      <Route\n        path=\"/\"\n        element={<Navigate to=\"/login\" replace />}\n      />\n      <Route\n        path=\"/login\"\n        element={(\n          <PublicRoute>\n            <Login />\n          </PublicRoute>\n        )}\n      />\n      <Route\n        path=\"/register\"\n        element={(\n          <PublicRoute>\n            <Register />\n          </PublicRoute>\n        )}\n      />\n      <Route\n        path=\"/dashboard\"\n        element={(\n          <ProtectedRoute>\n            <Dashboard />\n          </ProtectedRoute>\n        )}\n      />\n      <Route path=\"*\" element={<Navigate to=\"/\" replace />} />\n    </Routes>\n  );\n}\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,KAAK,CAAEC,MAAM,KAAQ,kBAAkB,CAC1D,MAAO,CAAAC,KAAK,KAAM,yBAAyB,CAC3C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,SAAS,KAAM,kCAAkC,CACxD,OAASC,OAAO,KAAQ,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,QAAS,CAAAC,cAAcA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAAEE,KAAK,CAAEC,OAAQ,CAAC,CAAGT,OAAO,CAAC,CAAC,CAEpC,GAAIS,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKQ,SAAS,CAAC,yDAAyD,CAAAH,QAAA,cACtEL,IAAA,QAAKQ,SAAS,CAAC,6BAA6B,CAACC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,cACxDL,IAAA,SAAMQ,SAAS,CAAC,iBAAiB,CAAAH,QAAA,CAAC,YAAU,CAAM,CAAC,CAChD,CAAC,CACH,CAAC,CAEV,CAEA,GAAI,CAACC,KAAK,CAAE,CACV,mBAAON,IAAA,CAACR,QAAQ,EAACkB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAC,CACzC,CAEA,MAAO,CAAAN,QAAQ,CACjB,CAEA,QAAS,CAAAO,WAAWA,CAAAC,KAAA,CAAe,IAAd,CAAER,QAAS,CAAC,CAAAQ,KAAA,CAC/B,KAAM,CAAEP,KAAK,CAAEC,OAAQ,CAAC,CAAGT,OAAO,CAAC,CAAC,CAEpC,GAAIS,OAAO,CAAE,CACX,mBACEP,IAAA,QAAKQ,SAAS,CAAC,yDAAyD,CAAAH,QAAA,cACtEL,IAAA,QAAKQ,SAAS,CAAC,6BAA6B,CAACC,IAAI,CAAC,QAAQ,CAAAJ,QAAA,cACxDL,IAAA,SAAMQ,SAAS,CAAC,iBAAiB,CAAAH,QAAA,CAAC,YAAU,CAAM,CAAC,CAChD,CAAC,CACH,CAAC,CAEV,CAEA,GAAIC,KAAK,CAAE,CACT,mBAAON,IAAA,CAACR,QAAQ,EAACkB,EAAE,CAAC,YAAY,CAACC,OAAO,MAAE,CAAC,CAC7C,CAEA,MAAO,CAAAN,QAAQ,CACjB,CAEA,cAAe,SAAS,CAAAS,GAAGA,CAAA,CAAG,CAC5B,mBACEZ,KAAA,CAACR,MAAM,EAAAW,QAAA,eACLL,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,GAAG,CACRC,OAAO,cAAEhB,IAAA,CAACR,QAAQ,EAACkB,EAAE,CAAC,QAAQ,CAACC,OAAO,MAAE,CAAE,CAC3C,CAAC,cACFX,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,QAAQ,CACbC,OAAO,cACLhB,IAAA,CAACY,WAAW,EAAAP,QAAA,cACVL,IAAA,CAACL,KAAK,GAAE,CAAC,CACE,CACb,CACH,CAAC,cACFK,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,WAAW,CAChBC,OAAO,cACLhB,IAAA,CAACY,WAAW,EAAAP,QAAA,cACVL,IAAA,CAACJ,QAAQ,GAAE,CAAC,CACD,CACb,CACH,CAAC,cACFI,IAAA,CAACP,KAAK,EACJsB,IAAI,CAAC,YAAY,CACjBC,OAAO,cACLhB,IAAA,CAACG,cAAc,EAAAE,QAAA,cACbL,IAAA,CAACH,SAAS,GAAE,CAAC,CACC,CAChB,CACH,CAAC,cACFG,IAAA,CAACP,KAAK,EAACsB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEhB,IAAA,CAACR,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAE,CAAE,CAAC,EAClD,CAAC,CAEb","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}